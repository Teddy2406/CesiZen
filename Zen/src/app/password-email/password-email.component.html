<h2>Réinitialisation du mot de passe (sans envoi d'email réel)</h2>

<!-- Étape 1 : saisir l'email -->
<div *ngIf="step === 1">
  <p>Saisissez votre email pour générer un token :</p>
  <input
    type="email"
    [(ngModel)]="user.email"
    placeholder="exemple@domaine.com"
    required
  />
  <button (click)="onGenerateToken()">Générer le token</button>
</div>

<!-- Étape 2 : afficher le token -->
<div *ngIf="step === 2">
  <p>Votre token est :</p>
  <div style="border: 1px solid black; padding: 5px; margin-bottom: 1rem;">
    {{ userReset.reset_token }}
  </div>
  <p>Copiez ce token pour passer à l'étape suivante.</p>
  <button (click)="step = 3">J'ai copié le token</button>
</div>

<!-- Étape 3 : saisir token + nouveau mot de passe -->
<div *ngIf="step === 3">
  <p>Saisissez ci-dessous le token et le nouveau mot de passe :</p>
  <label>Token :</label>
  <input
    type="text"
    [(ngModel)]="enteredToken"
    placeholder="Coller ici votre token"
    required
  /><br /><br />

  <label>Nouveau mot de passe :</label>
  <input
    type="password"
    [(ngModel)]="newPassword"
    placeholder="Nouveau mot de passe"
    required
  /><br /><br />

  <button (click)="onUpdatePassword()">Mettre à jour</button>
</div>

<!-- Message de succès/erreur -->
<div *ngIf="successMessage" style="color: green; margin-top: 1rem;">
  {{ successMessage }}
</div>
<div *ngIf="errorMessage" style="color: red; margin-top: 1rem;">
  {{ errorMessage }}
</div>
